# ğŸ†“ OpenClaw æ¥å…¥ OpenRouter å…è´¹ Step 3.5 æ¨¡å‹æ•™ç¨‹

> ä½¿ç”¨ OpenRouter çš„å…è´¹ Step 3.5 Flash æ¨¡å‹ï¼Œè®© OpenClaw é›¶æˆæœ¬è¿è¡Œ

---

## ğŸ“‹ ç›®å½•

- [ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªæ•™ç¨‹](#ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªæ•™ç¨‹)
- [åŸç†è§£æ](#åŸç†è§£æ)
- [å‰ç½®è¦æ±‚](#å‰ç½®è¦æ±‚)
- [é…ç½®æ­¥éª¤](#é…ç½®æ­¥éª¤)
- [éªŒè¯ä¸æµ‹è¯•](#éªŒè¯ä¸æµ‹è¯•)
- [æ¨¡å‹åˆ‡æ¢](#æ¨¡å‹åˆ‡æ¢)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [è¿›é˜¶é…ç½®](#è¿›é˜¶é…ç½®)

---

## ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªæ•™ç¨‹

### ç—›ç‚¹ï¼šé»˜è®¤æ¨¡å‹é™åˆ¶å¤š ğŸ˜¤

OpenClaw é»˜è®¤ä½¿ç”¨ MiniMaxã€Kimi ç­‰å›½å†…æ¨¡å‹ï¼Œå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š

| é—®é¢˜ | è¯´æ˜ |
|------|------|
| **éœ€è¦ API Key** | MiniMaxã€Kimi éƒ½éœ€è¦å•ç‹¬ç”³è¯· |
| **ä»˜è´¹é—¨æ§›** | å¤§éƒ¨åˆ†æ¨¡å‹éœ€è¦å……å€¼æ‰èƒ½ä½¿ç”¨ |
| **æ¨¡å‹é€‰æ‹©å°‘** | æ— æ³•ä½¿ç”¨ Claudeã€GPT-4o ç­‰å›½é™…å…ˆè¿›æ¨¡å‹ |
| **é…ç½®å¤æ‚** | æ¯ä¸ªæä¾›å•†éƒ½è¦å•ç‹¬é…ç½®è®¤è¯ |

### è§£å†³æ–¹æ¡ˆï¼šOpenRouter ğŸ¯

**OpenRouter** æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„å¤§æ¨¡å‹ API èšåˆå¹³å°ï¼Œä¼˜åŠ¿ï¼š

| ä¼˜åŠ¿ | è¯´æ˜ |
|------|------|
| ğŸ†“ **å…è´¹æ¨¡å‹** | Step 3.5 Flash å®Œå…¨å…è´¹ |
| ğŸ”‘ **ä¸€ä¸ª Key èµ°å¤©ä¸‹** | ä¸€ä¸ª API Key è®¿é—®æ‰€æœ‰æ¨¡å‹ |
| ğŸŒ **æ¨¡å‹ä¸°å¯Œ** | Claudeã€GPTã€Llamaã€Gemini ç­‰ 100+ æ¨¡å‹ |
| âš¡ **è‡ªåŠ¨æ•…éšœè½¬ç§»** | ä¸€ä¸ªæ¨¡å‹å¤±æ•ˆè‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨ |

### Step 3.5 Flash ç‰¹ç‚¹ âœ¨

```
ğŸ—ï¸ æ¶æ„: MoE (196B å‚æ•°ï¼Œæ¯æ¬¡æ¿€æ´» 11B)
ğŸ’° ä»·æ ¼: å®Œå…¨å…è´¹
ğŸ“ ä¸Šä¸‹æ–‡: 256K tokens
ğŸš€ é€Ÿåº¦: Flash ç³»åˆ—ä¼˜åŒ–ï¼Œå“åº”æå¿«
ğŸŒ ä¸­æ–‡: é’ˆå¯¹ä¸­æ–‡ä¼˜åŒ–ï¼Œæ•ˆæœä¼˜ç§€
```

---

## åŸç†è§£æ

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Telegram Bot  â”‚â—„â”€â”€â”€â”€â–ºâ”‚  OpenClaw        â”‚â—„â”€â”€â”€â”€â–ºâ”‚  OpenRouter     â”‚
â”‚  @ä½ çš„æœºå™¨äºº     â”‚      â”‚  (AI åŠ©æ‰‹æ¡†æ¶)    â”‚      â”‚  (API èšåˆå¹³å°)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                             â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚                        â”‚                â”‚
                              â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
                              â”‚ Step 3.5  â”‚          â”‚  Claude     â”‚   â”‚ GPT-4o  â”‚
                              â”‚  (å…è´¹)   â”‚          â”‚  (ä»˜è´¹)     â”‚   â”‚ (ä»˜è´¹)   â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å·¥ä½œæµç¨‹

1. ä½ åœ¨ Telegram å‘é€æ¶ˆæ¯
2. OpenClaw æ¥æ”¶åˆ°æ¶ˆæ¯ï¼Œå‡†å¤‡è°ƒç”¨æ¨¡å‹
3. OpenClaw é€šè¿‡ OpenRouter API å‘é€è¯·æ±‚
4. OpenRouter è·¯ç”±åˆ° Step 3.5 Flash (å…è´¹å±‚çº§)
5. è¿”å›ç»“æœç»™ OpenClawï¼Œå†å›å¤åˆ° Telegram

---

## å‰ç½®è¦æ±‚

### å¿…é¡»å·²å®Œæˆ âœ…

- [ ] OpenClaw Gateway å·²å®‰è£…å¹¶è¿è¡Œ
- [ ] Telegram Bot å·²åˆ›å»ºï¼ˆé€šè¿‡ @BotFatherï¼‰
- [ ] å·²é…ç½® PM2 è¿›ç¨‹ç®¡ç†

### éœ€è¦å‡†å¤‡ ğŸ“

| é¡¹ç›® | è·å–æ–¹å¼ | ç”¨é€” |
|------|----------|------|
| OpenRouter API Key | https://openrouter.ai/keys | è°ƒç”¨æ¨¡å‹ |
| Telegram Bot Token | @BotFather | æ¥æ”¶/å‘é€æ¶ˆæ¯ |

---

## é…ç½®æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šè·å– OpenRouter API Key ğŸ”‘

1. è®¿é—® https://openrouter.ai/
2. æ³¨å†Œè´¦å·ï¼ˆæ”¯æŒé‚®ç®±æˆ– Google ç™»å½•ï¼‰
3. è¿›å…¥ Settings â†’ Keys
4. ç‚¹å‡» "Create Key"
5. **å¤åˆ¶å¹¶ä¿å­˜å¥½ Key**ï¼ˆæ ¼å¼ï¼š`sk-or-v1-...`ï¼‰

```bash
# ç¤ºä¾‹ API Key
sk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

---

### ç¬¬äºŒæ­¥ï¼šè®¾ç½®ç¯å¢ƒå˜é‡ ğŸŒ

å°† API Key æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼š

```bash
# ä¸´æ—¶è®¾ç½®ï¼ˆå½“å‰ç»ˆç«¯æœ‰æ•ˆï¼‰
export OPENROUTER_API_KEY="sk-or-v1-ä½ çš„APIKey"

# æ°¸ä¹…è®¾ç½®ï¼ˆæ¨èï¼‰
echo 'export OPENROUTER_API_KEY="sk-or-v1-ä½ çš„APIKey"' >> ~/.zshrc
source ~/.zshrc
```

---

### ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹ OpenClaw é…ç½® âš™ï¸

ç¼–è¾‘ `~/.openclaw/openclaw.json`ï¼š

```json
{
  "env": {
    "vars": {
      "OPENROUTER_API_KEY": "${OPENROUTER_API_KEY}"
    }
  },
  "agents": {
    "defaults": {
      "model": {
        "primary": "openrouter/stepfun/step-3.5-flash:free",
        "fallbacks": [
          "minimax-cn/MiniMax-M2.5",
          "kimi-coding/k2p5"
        ]
      },
      "models": {
        "openrouter/stepfun/step-3.5-flash:free": {
          "alias": "Step 3.5 Free"
        },
        "minimax-cn/MiniMax-M2.5": {},
        "kimi-coding/k2p5": {}
      }
    }
  }
}
```

**å…³é”®é…ç½®è¯´æ˜**ï¼š

| é…ç½®é¡¹ | è¯´æ˜ |
|--------|------|
| `primary` | ä¸»æ¨¡å‹ï¼Œä¼˜å…ˆä½¿ç”¨ Step 3.5 Flash |
| `fallbacks` | å¤‡ç”¨æ¨¡å‹ï¼Œä¸»æ¨¡å‹å¤±è´¥æ—¶è‡ªåŠ¨åˆ‡æ¢ |
| `alias` | æ¨¡å‹åˆ«åï¼Œæ–¹ä¾¿åœ¨å‘½ä»¤ä¸­è¯†åˆ« |

---

### ç¬¬å››æ­¥ï¼šé…ç½®ç‹¬ç«‹ä¼šè¯ï¼ˆå¯é€‰ä½†æ¨èï¼‰ğŸ—‚ï¸

ä¸ºé¿å…"æ—§ä¼šè¯"æç¤ºï¼Œé…ç½®æ¯ä¸ªå¯¹è¯ä½¿ç”¨ç‹¬ç«‹ä¼šè¯ï¼š

```json
{
  "session": {
    "dmScope": "per-channel-peer"
  }
}
```

---

### ç¬¬äº”æ­¥ï¼šé‡å¯ Gateway ğŸš€

```bash
# é‡å¯å¹¶åŠ è½½æ–°ç¯å¢ƒå˜é‡
pm2 restart openclaw-gateway --update-env

# éªŒè¯çŠ¶æ€
pm2 status openclaw-gateway
```

é¢„æœŸè¾“å‡ºï¼š
```
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name                â”‚ version â”‚ mode    â”‚ pid      â”‚ uptime â”‚ â†º    â”‚ status    â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3  â”‚ openclaw-gateway    â”‚ 2026.2â€¦ â”‚ fork    â”‚ 72157    â”‚ 0s     â”‚ 0    â”‚ online    â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## éªŒè¯ä¸æµ‹è¯•

### æµ‹è¯•ä¸€ï¼šæŸ¥çœ‹å½“å‰æ¨¡å‹ ğŸ“Š

åœ¨ Telegram ä¸­å‘é€ï¼š

```
/model status
```

é¢„æœŸå›å¤ï¼š
```
å½“å‰æ¨¡å‹: openrouter/stepfun/step-3.5-flash:free
æä¾›å•†: OpenRouter
çŠ¶æ€: âœ… æ­£å¸¸
```

### æµ‹è¯•äºŒï¼šå‘é€æµ‹è¯•æ¶ˆæ¯ ğŸ’¬

```
ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±
```

é¢„æœŸè¡Œä¸ºï¼š
- å›å¤æ¥è‡ª Step 3.5 Flash
- å“åº”é€Ÿåº¦å¿«
- ä¸­æ–‡è¡¨è¾¾æµç•…

### æµ‹è¯•ä¸‰ï¼šæŸ¥çœ‹æ—¥å¿—ç¡®è®¤ ğŸ”

åœ¨ç”µè„‘ç»ˆç«¯æ‰§è¡Œï¼š

```bash
pm2 logs openclaw-gateway --lines 20 | grep "provider="
```

é¢„æœŸçœ‹åˆ°ï¼š
```
provider=openrouter/stepfun/step-3.5-flash:free
```

---

## æ¨¡å‹åˆ‡æ¢

### å¸¸ç”¨å‘½ä»¤

| å‘½ä»¤ | ä½œç”¨ |
|------|------|
| `/model` | æŸ¥çœ‹å½“å‰æ¨¡å‹å’Œå¯ç”¨åˆ—è¡¨ |
| `/model list` | æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨æ¨¡å‹ |
| `/model 3` | é€‰æ‹©åˆ—è¡¨ä¸­ç¬¬ 3 ä¸ªæ¨¡å‹ |
| `/model openrouter/anthropic/claude-sonnet-4-5` | åˆ‡æ¢åˆ° Claude |
| `/model openrouter/openai/gpt-4o` | åˆ‡æ¢åˆ° GPT-4o |
| `/new openrouter/stepfun/step-3.5-flash:free` | é‡ç½®ä¼šè¯å¹¶åˆ‡æ¢æ¨¡å‹ |

### åˆ‡æ¢ç¤ºä¾‹

**åœºæ™¯ï¼šä¸´æ—¶ä½¿ç”¨ Claude å¤„ç†å¤æ‚ä»»åŠ¡**

```
ç”¨æˆ·: /model openrouter/anthropic/claude-sonnet-4-5
Bot: âœ… å·²åˆ‡æ¢åˆ° Claude Sonnet 4.5

ç”¨æˆ·: å¸®æˆ‘åˆ†æè¿™æ®µä»£ç çš„æ¶æ„è®¾è®¡...
[Claude å›å¤...]

ç”¨æˆ·: /model openrouter/stepfun/step-3.5-flash:free
Bot: âœ… å·²åˆ‡æ¢å› Step 3.5 Flash (å…è´¹)
```

---

## å¸¸è§é—®é¢˜

### Q1: æ¨¡å‹åˆ‡æ¢åæç¤º"æ—§ä¼šè¯"

**åŸå› **ï¼šé»˜è®¤æ‰€æœ‰å¯¹è¯å…±äº«åŒä¸€ä¸ªä¼šè¯

**è§£å†³**ï¼š
1. å‘é€ `/new` é‡ç½®ä¼šè¯
2. æˆ–é…ç½® `"dmScope": "per-channel-peer"`

### Q2: æç¤º "Model is not allowed"

**åŸå› **ï¼šæ¨¡å‹ä¸åœ¨ `agents.defaults.models` å…è®¸åˆ—è¡¨ä¸­

**è§£å†³**ï¼šæ·»åŠ åˆ°é…ç½®

```json
"models": {
  "openrouter/anthropic/claude-sonnet-4-5": {
    "alias": "Claude Sonnet"
  }
}
```

### Q3: API Key å¤±æ•ˆæˆ–é¢åº¦ç”¨å®Œ

**ç—‡çŠ¶**ï¼šæ¶ˆæ¯å‘é€å¤±è´¥ï¼Œæ—¥å¿—æ˜¾ç¤º 401 é”™è¯¯

**è§£å†³**ï¼š
1. æ£€æŸ¥ OpenRouter è´¦æˆ·é¢åº¦ï¼šhttps://openrouter.ai/settings/credits
2. é‡æ–°ç”Ÿæˆ API Key
3. æ›´æ–°ç¯å¢ƒå˜é‡å¹¶é‡å¯

### Q4: å“åº”é€Ÿåº¦å˜æ…¢

**å¯èƒ½åŸå› **ï¼š
- OpenRouter å…è´¹å±‚çº§æœ‰é€Ÿç‡é™åˆ¶
- æ¨¡å‹è´Ÿè½½è¾ƒé«˜

**è§£å†³**ï¼š
- ç­‰å¾…å‡ ç§’é‡è¯•
- æˆ–åˆ‡æ¢åˆ°ä»˜è´¹æ¨¡å‹ï¼ˆClaude/GPT-4oï¼‰

---

## è¿›é˜¶é…ç½®

### é…ç½®å¤šä¸ª OpenRouter æ¨¡å‹

```json
{
  "agents": {
    "defaults": {
      "models": {
        "openrouter/stepfun/step-3.5-flash:free": {
          "alias": "Step 3.5 Free"
        },
        "openrouter/anthropic/claude-sonnet-4-5": {
          "alias": "Claude Sonnet"
        },
        "openrouter/openai/gpt-4o": {
          "alias": "GPT-4o"
        },
        "openrouter/meta/llama-3.3-70b": {
          "alias": "Llama 3.3"
        }
      }
    }
  }
}
```

### æ‰«æ OpenRouter å…è´¹æ¨¡å‹

OpenClaw å†…ç½®æ‰«æåŠŸèƒ½ï¼š

```bash
# æ‰«ææ‰€æœ‰å…è´¹æ¨¡å‹
openclaw models scan

# æ‰«æå¹¶è‡ªåŠ¨è®¾ç½®é»˜è®¤
openclaw models scan --set-default

# åªæŸ¥çœ‹ä¸æµ‹è¯•
openclaw models scan --no-probe
```

### å¤‡ç”¨æ¨¡å‹è‡ªåŠ¨åˆ‡æ¢

å½“ä¸»æ¨¡å‹å¤±è´¥æ—¶ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨ï¼š

```json
{
  "agents": {
    "defaults": {
      "model": {
        "primary": "openrouter/stepfun/step-3.5-flash:free",
        "fallbacks": [
          "openrouter/anthropic/claude-sonnet-4-5",
          "minimax-cn/MiniMax-M2.5"
        ]
      }
    }
  }
}
```

---

## ğŸ“Š æˆæœ¬å¯¹æ¯”

| æ–¹æ¡ˆ | æœˆè´¹ç”¨ | æ¨¡å‹é€‰æ‹© | ç¨³å®šæ€§ |
|------|:------:|----------|:------:|
| MiniMax å®˜æ–¹ | Â¥50-200 | å°‘ | â­â­â­ |
| Kimi å®˜æ–¹ | Â¥50-200 | å°‘ | â­â­â­ |
| **OpenRouter Free** | **Â¥0** | **å¤š** | â­â­â­â­ |
| OpenRouter ä»˜è´¹ | Â¥0-100 | æå¤š | â­â­â­â­â­ |

---

## ğŸ¯ æ€»ç»“

é€šè¿‡æœ¬æ•™ç¨‹ï¼Œä½ å·²ç»ï¼š

- âœ… è·å–äº† OpenRouter API Key
- âœ… é…ç½®äº† Step 3.5 Flash ä½œä¸ºé»˜è®¤æ¨¡å‹
- âœ… å®ç°äº†é›¶æˆæœ¬è¿è¡Œ OpenClaw
- âœ… æŒæ¡äº†æ¨¡å‹åˆ‡æ¢å‘½ä»¤

### ä¸‹ä¸€æ­¥å»ºè®®

1. **å°è¯•ä¸åŒæ¨¡å‹**ï¼šç”¨ `/model list` æ¢ç´¢ OpenRouter çš„æ¨¡å‹åº“
2. **è®¾ç½®å¤‡ç”¨æ¨¡å‹**ï¼šé˜²æ­¢å…è´¹æ¨¡å‹å¶å°”ä¸å¯ç”¨
3. **ç›‘æ§ä½¿ç”¨é‡**ï¼šå®šæœŸæŸ¥çœ‹ OpenRouter ä½¿ç”¨æƒ…å†µ

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [OpenRouter å®˜ç½‘](https://openrouter.ai/)
- [OpenRouter æ¨¡å‹åˆ—è¡¨](https://openrouter.ai/models)
- [OpenClaw å®˜æ–¹æ–‡æ¡£](https://openclaw.dev)
- [Step 3.5 Flash è¯¦æƒ…](https://openrouter.ai/stepfun/step-3.5-flash:free)

---

**æœ€åæ›´æ–°ï¼š** 2026-02-20

**ä½œè€…ï¼š** jqlong17

**è®¸å¯ï¼š** MIT License
